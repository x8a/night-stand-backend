(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{63:function(e,t,a){e.exports=a(98)},68:function(e,t,a){},69:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),s=a(15),l=a.n(s),c=(a(68),a(4)),i=a(5),m=a(7),u=a(6),p=(a(69),a(12)),h=a(8),d=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"general-bg landing"},o.a.createElement("div",{className:"intro"},o.a.createElement("h1",null,"Nightstand"),o.a.createElement("p",null,"Keep track of your books, whether you want to read them, you're already on it, or you finished the adventure!")),o.a.createElement("div",{className:"home-links"},o.a.createElement("button",{className:"btn btn-info"},o.a.createElement(h.c,{style:{height:"48px",fontSize:"20px"},to:"/signup",className:"btn btn-info"},"Sign up")),o.a.createElement("button",{className:"btn btn-secondary"},o.a.createElement(h.c,{style:{height:"48px",fontSize:"20px"},to:"/login",className:"btn btn-secondary"},"Log in"))))}}]),a}(r.Component),g=a(20),f=a(13),b=a(10),v=a.n(b),E=function e(){var t=this;Object(c.a)(this,e),this.signup=function(e,a,n,r){return t.service.post("/signup",{username:e,password:a,name:n,lastName:r}).then((function(e){return e.data}))},this.upload=function(e){return t.service.post("/upload",e).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout",{}).then((function(e){return e.data}))};var a=v.a.create({baseURL:"https://nightstand.herokuapp.com",withCredentials:!0});this.service=a},y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.login(t,a).then((function(e){n.setState({username:"",password:""}),n.props.getUser(e),n.props.history.push("/profile")})).catch((function(e){n.setState(Object(f.a)(Object(f.a)({},n.state),{},{error:e.response.data.message}))}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(g.a)({},a,r))},n.state={username:"",password:"",error:""},n.service=new E,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"general-bg",style:{height:"100%",color:"#393b44",paddingTop:"90px"}},o.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"forms"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Username"),o.a.createElement("input",{className:"form-control",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)},required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Password"),o.a.createElement("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},required:!0})),o.a.createElement("input",{style:{height:"48px",fontSize:"20px"},className:"btn btn-secondary",type:"submit",value:"Login"}),o.a.createElement("small",{className:"form-text pt-2",style:{color:"#ec0101",fontSize:"18px"}},this.state.error)),o.a.createElement("p",{className:"form-text"},"Don't have an account? ",o.a.createElement(h.b,{style:{color:"#3b6978"},to:"/signup"},"Signup")))}}]),a}(r.Component),k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(g.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password,r=n.state.name,o=n.state.lastName;n.service.signup(t,a,r,o).then((function(e){n.setState({username:"",password:"",name:"",lastName:""}),n.props.getUser(e),n.props.history.push("/profile")})).catch((function(e){n.setState(Object(f.a)(Object(f.a)({},n.state),{},{error:e.response.data.message}))}))},n.state={username:"",password:"",name:"",lastName:"",error:""},n.service=new E,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"general-bg",style:{height:"100%",color:"#393b44",paddingTop:"90px"}},o.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"forms"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Username"),o.a.createElement("input",{className:"form-control",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)},required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Name"),o.a.createElement("input",{className:"form-control",type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)},required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Last Name"),o.a.createElement("input",{className:"form-control",type:"text",name:"lastName",value:this.state.lastName,onChange:function(t){return e.handleChange(t)},required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Password"),o.a.createElement("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},required:!0}),o.a.createElement("small",{className:"form-text text-muted"},"Your password must contain 7 characters"),o.a.createElement("small",{className:"form-text pt-2",style:{color:"red"}},this.state.error)),o.a.createElement("input",{style:{height:"48px",fontSize:"20px"},className:"btn btn-info",type:"submit",value:"Signup"})),o.a.createElement("p",{className:"form-text"},"Already have an account? ",o.a.createElement(h.b,{style:{color:"#3b6978"},to:"/login"},"Log in")))}}]),a}(r.Component),N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).service=new E,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.service.logout().then((function(t){e.props.callback(null)})).catch((function(e){return console.log(e)})),o.a.createElement(p.a,{to:"/"})}}]),a}(r.Component),j=a(104),x=a(101),O=a(100),S=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.location.pathname===this.props.path?"info":"secondary";return o.a.createElement(O.a,{variant:e},o.a.createElement(h.b,{style:{color:"white"},to:this.props.path},this.props.name))}}]),a}(r.Component),C=Object(p.g)(S),w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(x.a,{style:{marginLeft:"45px"}},o.a.createElement(C,{name:"All",path:"/profile"}),o.a.createElement(C,{name:"Reading",path:"/reading"}),o.a.createElement(C,{name:"Pending",path:"/pending"}),o.a.createElement(C,{name:"Finished",path:"/read"}))}}]),a}(r.Component),I=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getUserBooks=function(){v.a.get("".concat("https://nightstand.herokuapp.com","/books"),{withCredentials:!0}).then((function(t){e.setState({books:t.data})}))},e.state={books:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getUserBooks()}},{key:"render",value:function(){var e="";if(0!==this.props.loggedInUser.books.length){var t=this.state.books.map((function(e){return o.a.createElement("div",{key:e._id,className:"mt-3"},o.a.createElement(h.b,{style:{color:"#393b44"},to:"/book/".concat(e._id)},o.a.createElement(j.a,{className:"card",style:{width:"18rem",backgroundColor:"#f1f3f8"}},o.a.createElement(j.a.Body,{style:{color:"#393b44"}},o.a.createElement("img",{src:e.pic,style:{width:"40%",float:"right"},alt:"Book cover"}),o.a.createElement(j.a.Title,null,e.title),o.a.createElement(j.a.Subtitle,{className:"mb-2 text-muted"},e.author),o.a.createElement(j.a.Text,null,e.status)))))}));e=o.a.createElement("div",{className:"profile"},t)}return o.a.createElement("div",{className:"general-bg",style:{minHeight:"100%",paddingTop:"90px"}},o.a.createElement(w,null),e,o.a.createElement("div",{className:"empty"}))}}]),a}(r.Component),U=a(16),B=a(17),T=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(g.a)({},a,r))},n.handleSearchTitle=function(){v.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(n.state.searchTitle,"&key=").concat("AIzaSyDk4BPfEj7uZ4jDSS0UBa19V_TDkGVGCWE")).then((function(e){n.setState(Object(f.a)(Object(f.a)({},n.state),{},{searchResults:e.data.items}))})).catch((function(e){return console.log(e)}))},n.handleSearchAuthor=function(){v.a.get("https://www.googleapis.com/books/v1/volumes?q=inauthor:".concat(n.state.searchAuthor,"&key=").concat("AIzaSyDk4BPfEj7uZ4jDSS0UBa19V_TDkGVGCWE")).then((function(e){n.setState(Object(f.a)(Object(f.a)({},n.state),{},{searchResults:e.data.items}))})).catch((function(e){return console.log(e)}))},n.handleFormSubmit=function(e){e.preventDefault();var t={title:n.state.title,author:n.state.author,description:n.state.description,pic:n.state.pic?n.state.pic:"",status:n.state.status,reader:n.props.loggedInUser._id};v.a.post("".concat("https://nightstand.herokuapp.com","/create"),t,{withCredentials:!0}).then((function(){n.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},n.selectBook=function(e){var t=n.state.searchResults.find((function(t){return t.id===e.currentTarget.id}));n.setState(Object(f.a)(Object(f.a)({},n.state),{},{title:t.volumeInfo.title,author:t.volumeInfo.authors?t.volumeInfo.authors[0]:"Unknown",pic:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:"",description:t.volumeInfo.description?t.volumeInfo.description:"",selectedBook:t,showAllResults:!1}))},n.showAll=function(){n.setState(Object(f.a)(Object(f.a)({},n.state),{},{showAllResults:!0}))},n.state={title:"",author:"",description:"",pic:"",status:"Pending",searchTitle:"",searchAuthor:"",searchResults:[],selectedBook:{},showAllResults:!0},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="";return this.state.showAllResults&&(t=this.state.searchResults.map((function(t){return o.a.createElement(j.a,{onClick:function(t){return e.selectBook(t)},className:"mt-3",key:t.id,id:t.id,style:{backgroundColor:"#f1f3f8",margin:"0px 30px"}},o.a.createElement(j.a.Body,{style:{color:"#393b44"}},t.volumeInfo.imageLinks?o.a.createElement("img",{src:t.volumeInfo.imageLinks.thumbnail,style:{width:"40%",float:"right"},alt:"Book cover"}):"",o.a.createElement(j.a.Title,null,t.volumeInfo.title),t.volumeInfo.authors?o.a.createElement(j.a.Subtitle,{className:"mb-2 text-muted"},t.volumeInfo.authors[0]):""))}))),this.state.showAllResults||(t=o.a.createElement("div",null,o.a.createElement(j.a,{className:"mt-3",key:this.state.selectedBook.volumeInfo.id,id:this.state.selectedBook.volumeInfo.id,style:{backgroundColor:"#f1f3f8",margin:"0px 30px"}},o.a.createElement(j.a.Body,{style:{color:"#393b44"}},this.state.selectedBook.volumeInfo.imageLinks?o.a.createElement("img",{src:this.state.selectedBook.volumeInfo.imageLinks.thumbnail,style:{width:"40%",float:"right"},alt:"Book cover"}):"",o.a.createElement(j.a.Title,null,this.state.selectedBook.volumeInfo.title),this.state.selectedBook.volumeInfo.authors?o.a.createElement(j.a.Subtitle,{className:"mb-2 text-muted"},this.state.selectedBook.volumeInfo.authors[0]):"",this.state.selectedBook.volumeInfo.description?o.a.createElement(j.a.Text,null,this.state.selectedBook.volumeInfo.description):"")),o.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"forms"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Status"),o.a.createElement("select",{className:"form-control",value:this.state.status,name:"status",onChange:function(t){return e.handleChange(t)}},o.a.createElement("option",{value:"Pending"},"Pending"),o.a.createElement("option",{value:"Reading"},"In progress"),o.a.createElement("option",{value:"Finished"},"Finished"))),o.a.createElement("input",{style:{height:"48px",fontSize:"20px"},className:"btn btn-info",type:"submit",value:"Add book"}),o.a.createElement("button",{className:"btn btn-danger mt-2",style:{height:"48px",fontSize:"20px"},onClick:this.showAll},"Back to results")))),o.a.createElement("div",{className:"general-bg",style:{minHeight:"100%",color:"#393b44",paddingTop:"90px"}},o.a.createElement("form",{className:"forms"},o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{className:"form-control",type:"text",name:"searchTitle",placeholder:"Search by title",value:this.state.search,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{onClick:function(t){return e.handleSearchTitle(t)},className:"input-group-text"},o.a.createElement(U.a,{icon:B.d})))),o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{className:"form-control",type:"text",name:"searchAuthor",placeholder:"Search by author",value:this.state.search,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{onClick:function(t){return e.handleSearchAuthor(t)},className:"input-group-text"},o.a.createElement(U.a,{icon:B.d}))))),t,o.a.createElement("div",{className:"empty"}))}}]),a}(r.Component),D=a(53),z=function(e){var t=e.component,a=e.user,n=Object(D.a)(e,["component","user"]);return o.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?o.a.createElement(t,Object.assign({},e,{loggedInUser:a})):o.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},A=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getBook=function(){var e=n.props.match.params;v.a.get("".concat("https://nightstand.herokuapp.com","/book/").concat(e.id)).then((function(e){var t=e.data;n.setState(t)})).catch((function(e){console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(g.a)({},a,r))},n.handleFormSubmit=function(e){var t={status:n.state.status,description:n.state.description};e.preventDefault(),v.a.put("".concat("https://nightstand.herokuapp.com").concat(n.props.location.pathname),t,{withCredentials:!0}).then((function(){n.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},n.state={},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getBook()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"book-details",style:{minHeight:"100%",paddingTop:"70px"}},o.a.createElement("div",{className:"book-details-intro"},o.a.createElement("h1",null,this.state.title),o.a.createElement("p",null,this.state.author),o.a.createElement("img",{className:"book-cover",alt:"Book cover",src:this.state.pic})),o.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"forms"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Status"),o.a.createElement("select",{className:"form-control",value:this.state.status,name:"status",onChange:function(t){return e.handleChange(t)}},o.a.createElement("option",{value:"Pending"},"Pending"),o.a.createElement("option",{value:"Reading"},"In progress"),o.a.createElement("option",{value:"Finished"},"Finished"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Description"),o.a.createElement("textarea",{rows:"3",className:"form-control",name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("input",{style:{height:"48px",fontSize:"20px"},className:"btn btn-info",type:"submit",value:"Save changes"}),o.a.createElement("p",{style:{textAlign:"right",paddingTop:"10px"}},o.a.createElement(h.b,{style:{height:"48px",fontSize:"20px"},to:"/profile",className:"btn btn-danger"},"Go back")),o.a.createElement("div",{className:"empty"})))}}]),a}(r.Component),L=a(103),_=a(102),F=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=o.a.createElement(L.a,null,o.a.createElement(h.c,{style:{color:"white"},to:this.props.user?"/profile":"/",className:"nav-link"},o.a.createElement(U.a,{icon:B.a,size:"2x"})));return this.props.user&&(e=o.a.createElement(L.a,null,o.a.createElement(h.c,{style:{color:"white"},to:this.props.user?"/profile":"/",className:"nav-link"},o.a.createElement(U.a,{icon:B.a,size:"2x"})),o.a.createElement(h.c,{style:{color:"white",paddingLeft:"50px"},to:"/create",className:"nav-link"},o.a.createElement(U.a,{icon:B.e,size:"2x"})),o.a.createElement(h.c,{style:{color:"white",paddingLeft:"50px"},to:"/my-shops",className:"nav-link"},o.a.createElement(U.a,{icon:B.f,size:"2x"})),o.a.createElement(h.c,{style:{color:"white",paddingLeft:"50px"},to:"/edit/profile",className:"nav-link"},o.a.createElement(U.a,{icon:B.h,size:"2x"})))),o.a.createElement(_.a,{className:"navbar",fixed:"bottom"},o.a.createElement(_.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(_.a.Collapse,null,e))}}]),a}(r.Component),P=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getUserBooks=function(){v.a.get("".concat("https://nightstand.herokuapp.com","/books"),{withCredentials:!0}).then((function(t){e.setState({books:t.data})}))},e.state={books:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getUserBooks()}},{key:"render",value:function(){var e="";if(0!==this.props.loggedInUser.books.length){var t=this.state.books.filter((function(e){return"Reading"===e.status}));if(t.length>0){var a=t.map((function(e){return o.a.createElement("div",{key:e._id,className:"mt-3"},o.a.createElement(h.b,{style:{color:"#393b44"},to:"/book/".concat(e._id)},o.a.createElement(j.a,{className:"card",style:{width:"18rem",backgroundColor:"#f1f3f8"}},o.a.createElement(j.a.Body,{style:{color:"#393b44"}},o.a.createElement("img",{src:e.pic,style:{width:"40%",float:"right"},alt:"Book cover"}),o.a.createElement(j.a.Title,null,e.title),o.a.createElement(j.a.Subtitle,{className:"mb-2 text-muted"},e.author),o.a.createElement(j.a.Text,null,e.status)))))}));e=o.a.createElement("div",{className:"profile"},a)}}return o.a.createElement("div",{className:"general-bg",style:{minHeight:"100%",paddingTop:"90px"}},o.a.createElement(w,null),e,o.a.createElement("div",{className:"empty"}))}}]),a}(r.Component),R=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getUserBooks=function(){v.a.get("".concat("https://nightstand.herokuapp.com","/books"),{withCredentials:!0}).then((function(t){e.setState({books:t.data})}))},e.state={books:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getUserBooks()}},{key:"render",value:function(){var e="";if(0!==this.props.loggedInUser.books.length){var t=this.state.books.filter((function(e){return"Pending"===e.status}));if(t.length>0){var a=t.map((function(e){return o.a.createElement("div",{key:e._id,className:"mt-3"},o.a.createElement(h.b,{style:{color:"#393b44"},to:"/book/".concat(e._id)},o.a.createElement(j.a,{className:"card",style:{width:"18rem",backgroundColor:"#f1f3f8"}},o.a.createElement(j.a.Body,{style:{color:"#393b44"}},o.a.createElement("img",{src:e.pic,style:{width:"40%",float:"right"},alt:"Book cover"}),o.a.createElement(j.a.Title,null,e.title),o.a.createElement(j.a.Subtitle,{className:"mb-2 text-muted"},e.author),o.a.createElement(j.a.Text,null,e.status)))))}));e=o.a.createElement("div",{className:"profile"},a)}}return o.a.createElement("div",{className:"general-bg",style:{minHeight:"100%",paddingTop:"90px"}},o.a.createElement(w,null),e,o.a.createElement("div",{className:"empty"}))}}]),a}(r.Component),H=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getUserBooks=function(){v.a.get("".concat("https://nightstand.herokuapp.com","/books"),{withCredentials:!0}).then((function(t){e.setState({books:t.data})}))},e.state={books:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getUserBooks()}},{key:"render",value:function(){var e="";if(0!==this.props.loggedInUser.books.length){var t=this.state.books.filter((function(e){return"Finished"===e.status}));if(t.length>0){var a=t.map((function(e){return o.a.createElement("div",{key:e._id,className:"mt-3"},o.a.createElement(h.b,{style:{color:"#393b44"},to:"/book/".concat(e._id)},o.a.createElement(j.a,{className:"card",style:{width:"18rem",backgroundColor:"#f1f3f8"}},o.a.createElement(j.a.Body,{style:{color:"#393b44"}},o.a.createElement("img",{src:e.pic,style:{width:"40%",float:"right"},alt:"Book cover"}),o.a.createElement(j.a.Title,null,e.title),o.a.createElement(j.a.Subtitle,{className:"mb-2 text-muted"},e.author),o.a.createElement(j.a.Text,null,e.status)))))}));e=o.a.createElement("div",{className:"profile"},a)}}return o.a.createElement("div",{className:"general-bg",style:{minHeight:"100%",paddingTop:"90px"}},o.a.createElement(w,null),e,o.a.createElement("div",{className:"empty"}))}}]),a}(r.Component),G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(g.a)({},a,r))},n.handlePicChange=function(e){n.setState(Object(f.a)(Object(f.a)({},n.state),{},{file:e.target.files[0]}))},n.handleImageUpload=function(e){e.preventDefault();var t=new FormData;t.append("pic",n.state.file),n.service.upload(t).then().catch((function(e){return console.log(e)}))},n.handleFormSubmit=function(e){var t={username:n.state.username,name:n.state.name,lastName:n.state.lastName};e.preventDefault(),v.a.put("".concat("https://nightstand.herokuapp.com").concat(n.props.location.pathname),t,{withCredentials:!0}).then((function(){n.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},n.state={username:n.props.loggedInUser.username,name:n.props.loggedInUser.name,lastName:n.props.loggedInUser.lastName,pic:n.props.loggedInUser.pic,file:{}},n.service=new E,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"general-bg",style:{minHeight:"100%",color:"#393b44",paddingTop:"80px"}},o.a.createElement("div",{className:"profile pt-3"},o.a.createElement("img",{className:"profile-pic",src:this.state.pic,alt:"Profile pic"})),o.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"forms"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{className:"custom-file-input",type:"file",name:"pic",onChange:this.handlePicChange}),o.a.createElement("label",{className:"custom-file-label text-left"},this.state.file.name))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Username"),o.a.createElement("input",{className:"form-control",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Name"),o.a.createElement("input",{className:"form-control",type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Last Name"),o.a.createElement("input",{className:"form-control",type:"text",name:"lastName",value:this.state.lastName,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("div",{className:"d-flex mt-3"},o.a.createElement("button",{style:{height:"48px",fontSize:"18px"},className:"btn btn-secondary w-50 mr-2",onClick:this.handleImageUpload},"Update picture"),o.a.createElement("button",{style:{height:"48px",fontSize:"20px"},className:"btn btn-info w-50",type:"submit"},"Save"))),o.a.createElement("p",{className:"edit-profile"},o.a.createElement(h.b,{style:{height:"48px",fontSize:"20px"},to:"/logout",className:"btn btn-danger"},"Log out")))}}]),a}(r.Component),M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(_.a,{className:"navbar nav-top",fixed:"top"},o.a.createElement(_.a.Brand,null,o.a.createElement(h.c,{style:{color:"white"},to:"/profile",className:"nav-link"},"Nightstand")))}}]),a}(r.Component),V=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"general-bg",style:{minHeight:"100%",color:"#393b44",paddingTop:"90px"}},o.a.createElement("h3",{className:"text-center pt-3 pb-5"},"This page does not exist"),o.a.createElement("div",{className:"pt-5 pl-5"},o.a.createElement("img",{style:{width:"90%"},src:"https://media.giphy.com/media/l0HlOBZcl7sbV6LnO/source.gif",alt:"Not found"})))}}]),a}(r.Component),q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getUserStores=function(){v.a.get("".concat("https://nightstand.herokuapp.com","/my-shops"),{withCredentials:!0}).then((function(t){e.setState({stores:t.data})}))},e.deleteStore=function(t){v.a.delete("".concat("https://nightstand.herokuapp.com","/my-shops/").concat(t),{withCredentials:!0}).then().catch((function(e){console.log(e)})),e.getUserStores()},e.state={stores:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getUserStores()}},{key:"render",value:function(){var e=this,t="";if(0!==this.props.loggedInUser.stores.length){var a=this.state.stores.map((function(t){return o.a.createElement("div",{key:t._id,className:"mt-3"},o.a.createElement(j.a,{className:"card",style:{width:"18rem",backgroundColor:"#f1f3f8"}},o.a.createElement(j.a.Body,{style:{color:"#393b44"}},o.a.createElement(h.c,{style:{color:"#393b44"},to:"/my-shops/".concat(t._id)},o.a.createElement(j.a.Title,null,t.store)),o.a.createElement(j.a.Subtitle,{className:"mb-2 text-muted"},t.address,o.a.createElement(U.a,{onClick:function(){return e.deleteStore(t._id)},style:{color:"#3b6978",marginLeft:"210px"},size:"2x",icon:B.g})))))}));t=o.a.createElement("div",{className:"profile"},a)}return o.a.createElement("div",{className:"general-bg",style:{minHeight:"100%",color:"#393b44",paddingTop:"90px"}},o.a.createElement("div",{className:"add-shops pt-3"},o.a.createElement(h.c,{to:"/new-shop"},o.a.createElement(U.a,{style:{color:"#3b6978"},size:"4x",icon:B.c}))),t,o.a.createElement("div",{className:"empty"}))}}]),a}(r.Component),W=a(39),Z=a.n(W),J=a(62),K=a(59);function Y(e,t){(n=new window.google.maps.places.Autocomplete(t.current)).setFields(["name","address_components","formatted_address"]),n.addListener("place_changed",(function(){return function(e){return Q.apply(this,arguments)}(e)}))}var $="";function Q(){return(Q=Object(K.a)(Z.a.mark((function e(t){var a,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.getPlace(),r=a.formatted_address,$=a.name,t(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=function(){var e=Object(r.useState)(""),t=Object(J.a)(e,2),a=t[0],n=t[1],s=Object(r.useRef)(null);return Object(r.useEffect)((function(){!function(e,t){var a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){return t()},a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}("https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDk4BPfEj7uZ4jDSS0UBa19V_TDkGVGCWE","&libraries=places"),(function(){return Y(n,s)}))}),[]),o.a.createElement("div",{className:"search-location-input general-bg pl-3",style:{minHeight:"100%",color:"#393b44",paddingTop:"90px"}},o.a.createElement("form",{className:"forms"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Search for a bookstore",ref:s,onChange:function(e){return n(e.target.value)},value:a})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Name"),o.a.createElement("input",{className:"form-control",type:"text",name:"name",onChange:function(){return null},value:$})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Address"),o.a.createElement("input",{className:"form-control",type:"text",name:"address",onChange:function(){return null},value:a})),o.a.createElement("button",{onClick:function(){return function(e,t){var a={store:e,address:t};v.a.post("".concat("https://nightstand.herokuapp.com","/new-shop"),a,{withCredentials:!0}).then().catch((function(e){return console.log(e)}))}($,a)},style:{height:"48px",fontSize:"20px"},className:"btn btn-info",type:"submit"},"Add book store")))},ee=a(60),te=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getStore=function(){var e=n.props.match.params;v.a.get("".concat("https://nightstand.herokuapp.com","/my-shops/").concat(e.id)).then((function(e){n.setState(e.data)})).catch((function(e){console.log(e)}))},n.getLocation=function(){v.a.get("https://nightstand.herokuapp.com/map?search="+n.state.address).then((function(e){n.setState(Object(f.a)(Object(f.a)({},n.state),{},{lat:e.data.candidates[0].geometry.location.lat,lng:e.data.candidates[0].geometry.location.lng}))})).catch((function(e){return console.log(e)}))},n.getMapOptions=function(e){return{disableDefaultUI:!1,mapTypeControl:!1,streetViewControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}},n.state={},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getStore()}},{key:"render",value:function(){var e=function(){return o.a.createElement(U.a,{style:{color:"#3b6978"},icon:B.b,size:"3x"})};return o.a.createElement("div",{className:"general-bg pl-3",style:{minHeight:"100%",color:"#393b44",paddingTop:"90px"}},o.a.createElement("div",null,o.a.createElement("h1",{className:"text-center"},this.state.store),o.a.createElement("p",{className:"text-center"},this.state.address)),this.state.lat?"":o.a.createElement("button",{onClick:this.getLocation,className:"btn btn-info",style:{height:"48px",fontSize:"20px",marginLeft:"30%"}},"Show in map"),this.state.lat?o.a.createElement("div",{className:"pt-3",style:{width:"350px",height:"530px"}},o.a.createElement(ee.a,{bootstrapURLKeys:{key:"AIzaSyDk4BPfEj7uZ4jDSS0UBa19V_TDkGVGCWE"},center:{lat:this.state.lat,lng:this.state.lng},defaultZoom:15,options:this.getMapOptions,yesIWantToUseGoogleMapApiInternals:!0},o.a.createElement(e,{lat:this.state.lat,lng:this.state.lng}))):"",o.a.createElement("div",{className:"empty"}))}}]),a}(r.Component),ae=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getTheUser=function(e){n.setState({loggedInUser:e}),n.setState({loggedInUser:e},(function(){localStorage.setItem("loggedInUser",JSON.stringify(n.state.loggedInUser))}))},n.state={loggedInUser:JSON.parse(localStorage.getItem("loggedInUser"))||null},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(F,{user:this.state.loggedInUser}),o.a.createElement(M,null),o.a.createElement(p.d,null,o.a.createElement(p.b,{exact:!0,path:"/",component:d}),o.a.createElement(p.b,{exact:!0,path:"/signup",render:function(t){return o.a.createElement(k,Object.assign({},t,{getUser:e.getTheUser}))}}),o.a.createElement(p.b,{exact:!0,path:"/login",render:function(t){return o.a.createElement(y,Object.assign({},t,{getUser:e.getTheUser}))}}),o.a.createElement(p.b,{exact:!0,path:"/logout",render:function(t){return o.a.createElement(N,Object.assign({},t,{callback:e.getTheUser}))}}),o.a.createElement(z,{exact:!0,path:"/profile",user:this.state.loggedInUser,component:I}),o.a.createElement(z,{exact:!0,path:"/edit/profile",user:this.state.loggedInUser,component:G}),o.a.createElement(z,{exact:!0,path:"/reading",user:this.state.loggedInUser,component:P}),o.a.createElement(z,{exact:!0,path:"/pending",user:this.state.loggedInUser,component:R}),o.a.createElement(z,{exact:!0,path:"/read",user:this.state.loggedInUser,component:H}),o.a.createElement(z,{exact:!0,path:"/create",user:this.state.loggedInUser,component:T}),o.a.createElement(p.b,{exact:!0,path:"/book/:id",render:function(t){return o.a.createElement(A,Object.assign({},t,{user:e.state.loggedInUser}))}}),o.a.createElement(z,{exact:!0,path:"/my-shops",user:this.state.loggedInUser,component:q}),o.a.createElement(p.b,{exact:!0,path:"/my-shops/:id",render:function(t){return o.a.createElement(te,Object.assign({},t,{user:e.state.loggedInUser}))}}),o.a.createElement(z,{exact:!0,path:"/new-shop",user:this.state.loggedInUser,component:X}),o.a.createElement(p.b,{component:V})))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(97);l.a.render(o.a.createElement(h.a,null,o.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.6f7375cb.chunk.js.map